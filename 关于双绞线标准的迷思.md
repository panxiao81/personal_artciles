# 关于双绞线标准的迷思

## Introduction

学习网络的过程中，必然会接触到的问题就是：网线线序问题。

按照一般学校课程来讲，会学习到两种线序，一种为`T568A`，另一种为`T568B`，而制作直通线一般使用`T568B`标准，制作交叉线时两种混用。

近日学习Udemy课程时，提到两种标准本质上只是交换了绿色线对与橙色线对，而其他线在10/100Mbps网络中没有使用，而交换的线对正好对应了两种信号端的正负，因此称作交叉线 (Cross-Over Cable)。

那么按照`1000Base-T`标准，8根线都被定义使用的情况下，按照这种说法制作交叉线必然是行不通的。

并且，为什么会存在两种接线标准？在查询Wikipedia后，将其原因以及涉及知识记录如下。

## 过去的ANSI/TIA-568

常用的`T568A`与`T568B`线序是由TIA与EIA指定的。

这项标准原本由EIA (美国能源信息署) 牵头，后交给TIA维护，这项标准几乎规定了所有物理层相关的标准，包括双绞线，光纤，同轴电缆及对应的连接器，布线距离及方法等。

最早的数据双绞线也曾承载在电话线缆上，但很快被Cat. 5取代了，成为了如今常见的线缆标准。

与许多认知所不同的是，标准中实际上推荐的是`T568A`线序接法，但实际上不管你如何接线，在直通线的情况只要两端线序相同，两种线序均可，也并不存在什么差别。而引入`T568B`的原因其实是为了兼容旧有的AT&T 258A线序  (又是你，贝尔？！)。

在10/100Mbps网络的年代，将两种线序交叉使用正好可以得到恰当的交叉线顺序，实际上是因为他们正好交换了TX与RX引脚，我很有理由怀疑制定标准时他们是故意这么做的。

也正是因为有两对线根本没被使用，因此我曾听说早些年有将语音电话和网线用一根Cat. 5线制作的骚操作。

## 现在的ANSI/TIA-568

如今来到了1000Base-T的普及时代，制作交叉线显然不能只交换两对线。实际上，标准中其实有规定正常的交叉电缆线序，也就是说，不光要交换绿色线对与橙色线对，同时也要交换蓝色线对与棕色线对。

1000Base-T允许我们在现有的Cat.5 (注意不是Cat. 5e) 基建上运行千兆网络，由于串扰相对严重，因此Cat. 5e将取得更好的效果。

由于使用了4组线对同时收发数据，需要更高的编码效率，因此诞生了另一种1000Base-Tx标准 (类似于百兆网络的100Base-Tx标准)，可以继续使用较简单的编码方式，分别使用两组线对分别收发数据，但因需要使用Cat. 6线材，因此并没有取得市场认可。

## 未来的ANSI/TIA-568

如前文所说，标准不只是规定了双绞线的接线顺序，也规定了其他物理层的相关事项，现在的标准已经制定进行兼容40G网络的Cat. 8线缆，而一段时间来看，如果从未来投资的角度而言，今后的新布线应该逐步升级到Cat. 6A线缆，以用来兼容未来迟早会普及的10G网络。

虽然标准规定了Cat.6，Cat.6A甚至Cat.8，但标准没有Cat.7？

因为就像很多其他行业标准一样，美国总喜欢自己搞一套标准，然后ISO弄一套跟他们很像的标准。

因此，很类似的，既然ANSI有一套标准，那么ISO也有一套标准咯？

没错，答对了。

## 相似的ISO/IEC 11801

ISO标准与ANSI标准非常相似……直到Cat.7

ISO搞了一套Cat.7标准，但不知道为什么ANSI并没有承认这套标准。

而到了Cat.8……ANSI搞了一个标准，而ISO把他们分成了两个，分别叫Cat.8.1和Cat.8.2？

而ISO标准还分Class……详情自己去查Wikipedia吧……

## 万恶之源的MDI/MDI-X

所以到底为什么要用交叉线？

在物理层原理上，两对线一对用来发送信号，一对用来接收信号，因此发送和接收必然应该对应，那么如何定义哪一对用来发送或接收呢？

我们就引入了一个新的概念，MDI与MDI-X.

在传统10/100Mbps以太网中 ，MDI设备使用绿色线对发送，橙色线对接收，而MDI-X设备相反，使用绿色线对接收，橙色线对发送。

将MDI设备连接至MDI-X设备使用直通电缆，而相同类型的设备连接则需要使用交叉电缆。

一般来说，终端设备和路由器使用MDI接口，而集线器，交换机和Bridge使用MDI-X接口。

早些年的设备会有硬件开关可以切换端口模式，使得可以使用直通线缆连接两个集线器。

但是，其实你可以当整篇文章都是废话，因为……

大人，时代变了.jpg

## 改变一切的Auto MDI-X

HP的两位工程师开发了Auto MDI-X技术，使用生成伪随机数的方式使两个端口的工作模式自动协商两个网络端口为发送端与接收端。

但偶尔在将Auto MDI-X设备连接到MDI-X设备 (不支持自动协商)的情况下依然需要交叉线。

如今的主流设备均支持Auto MDI-X，因此可以扔掉你的交叉线了(大多数时候)

比如我就可以把PC和PS3用一根普通直通线连起来用FTP传游戏了（逃

## 不太一样的1000Base-T

就这样，两种线序其实算是很多人理解上的小误区。实际上应该记忆的是一种线序和他对应的交叉线序。。。吗？

没想到吧，时代又变了.jpg

1000Base-T以后不需要交叉线了你气不气？

还记得我们说1000Base-T使用全部四对电缆的事情吗？

1000Base-T使用四对线同时传输，因此不再存在固定的发送和接收线对了。

物理层中提供了新的判断方法。

交叉线这下彻底没有存在的必要了 (多数情况下)

## Summary

就这样，查了一通之后的结果就是：1000Base-T不需要交叉线了。

也许以后交叉线会和10Base5网络一样被时间遗忘吧。

但这么一来，把物理层的一些东西和一些误区弄明白了，也是蛮有意思的事情。因此将整个我搜索到的知识记录如下。

如有大佬指出错误，那就是我错了，欢迎各位批评指正。